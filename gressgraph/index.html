<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta name="description" content="gressgraph - visualize your iptables firewall. gressgraph is a small literate Haskell program that uses Graphviz to produce a visual graph of your iptables settings.">
  <meta name="keywords" content="gressgraph, iptables, firewall, graph, graphviz, haskell">
  <title>gressgraph - visualize your iptables firewall</title>
  <style type="text/css">
    body {
      background: url(gressgraph-header.png) top center no-repeat;
      background-color: #808080;
      width: 66em;
      margin-left: auto;
      margin-right: auto;
    }
    #nav {
      padding: 0.5em 0;
      background-color: #808080;
    }
    #nav li {
      display: inline;
      margin-right: 1em;
    }
    #footer {
      font-size: smaller;
      text-align: center;
      margin-top: 2em;
    }
  </style>
</head>
<body>
  <h1>gressgraph</h1>
  <p style="margin-left: 2em"><i>Visualize your firewall.</i></p>

  <ul id="nav">
    <li><a href="gressgraph-0.2.tar.gz">Download</a> (source, 168KB)</li>
    <li><a href="gressgraph.pdf">Documentation</a> (PDF, 9 pages)</li>
    <li><a href="gressgraph-example.png">Screenshot</a> (PNG, 1000x964)</li>
  </ul>

  <p style="clear: left">gressgraph produces a graph of your iptables ruleset using <a href="http://graphviz.org/">Graphviz</a>. You can use the graph to:
    <ul>
      <li>Look for vulnerabilities or redundancies.</li>
      <li>Get a "feel" for a network.</li>
      <li>Showcase your firewall.</li>
    </ul>
  </p>

  <h2>Try It Out</h2>

  <p>Enter the output of <code>iptables -L -vx</code> here.</p>

  <form action="graph" method="get" style="text-align: center">
    <textarea name="chains" rows="24" cols="120">Chain INPUT (policy DROP 1226127 packets, 148780906 bytes)
    pkts      bytes target     prot opt in     out     source               destination         
   57225  8133562 DROP       all  --  any    any     anywhere             anywhere            state INVALID 
   64147 24178835 DROP       all  --  eth0   any     10.0.0.0/8           anywhere            
      13    12264 DROP       all  --  eth0   any     172.16.0.0/255.250.0.0  anywhere            
    6191   910525 DROP       all  --  eth0   any     192.168.0.0/16       anywhere            
347547935 354119630571 ACCEPT     all  --  any    any     anywhere             anywhere            state RELATED,ESTABLISHED 
   44925 19199122 ACCEPT     udp  --  ath0   any     anywhere             anywhere            udp dpt:bootps 
   70995  4434700 ACCEPT     all  --  lo     any     anywhere             anywhere            
  136396  8110576 ACCEPT     tcp  --  any    any     anywhere             anywhere            tcp dpt:ssh state NEW 
      28     1692 ACCEPT     tcp  --  ath0   any     anywhere             anywhere            state NEW tcp dpt:microsoft-ds 
      79     5020 ACCEPT     tcp  --  ath0   any     anywhere             anywhere            state NEW tcp dpt:netbios-ssn 
       1       60 ACCEPT     tcp  --  ath0   any     anywhere             anywhere            state NEW tcp dpt:domain 
  250743 16275259 ACCEPT     udp  --  ath0   any     anywhere             anywhere            state NEW udp dpt:domain 
    4253   323228 ACCEPT     udp  --  ath0   any     anywhere             anywhere            udp dpt:ntp 
  144691  7305519 ACCEPT     tcp  --  eth0   any     anywhere             anywhere            tcp dpts:10001:10010 state NEW 
      75     4784 ACCEPT     tcp  --  ath0   any     neo                  anywhere            tcp dpt:ipp state NEW 
       0        0 ACCEPT     udp  --  eth0   any     anywhere             anywhere            udp dpt:ntp 
      73    41304 ACCEPT     udp  --  eth1   any     anywhere             anywhere            udp dpt:bootps 
      14      939 ACCEPT     udp  --  eth1   any     anywhere             anywhere            udp dpt:domain 
       0        0 ACCEPT     tcp  --  eth1   any     anywhere             anywhere            tcp dpt:domain 
       0        0 ACCEPT     udp  --  eth1   any     anywhere             anywhere            udp dpt:ntp 
       0        0 ACCEPT     tcp  --  ath0   any     malglata             anywhere            state NEW 

Chain FORWARD (policy DROP 209896 packets, 11331181 bytes)
    pkts      bytes target     prot opt in     out     source               destination         
191412264 130555797638 ACCEPT     all  --  any    any     anywhere             anywhere            state RELATED,ESTABLISHED 
 2457788 184396099 ACCEPT     all  --  ath0   eth0    anywhere             anywhere            
       8      576 ACCEPT     all  --  ath0   ath0    necesiga             anywhere            
      14     1088 ACCEPT     all  --  ath0   ath0    neo                  anywhere            
     117     5616 ACCEPT     all  --  ath0   ath0    malglata             anywhere            
    5786   472056 ACCEPT     all  --  eth1   eth0    anywhere             anywhere            

Chain OUTPUT (policy DROP 3466 packets, 161804 bytes)
    pkts      bytes target     prot opt in     out     source               destination         
274047964 141843115914 ACCEPT     all  --  any    any     anywhere             anywhere            state NEW,RELATED,ESTABLISHED 
       0        0 ACCEPT     all  --  any    lo      anywhere             anywhere            </textarea><br/><br/>
    <label for="format">Format: </label>
    <select name="format">
      <option selected value="png">PNG</option>
      <option value="svg">SVG</option>
    </select>
    <input type="submit" value="Graph It"/>
  </form>

  <h2>About</h2>

  <p>I've deliberately kept the program simple. It has no commandline options. To change the look of the output just modify the source (don't worry, it's currently only 205 lines of <a href="http://en.wikipedia.org/wiki/Literate_programming">literate</a> <a href="http://haskell.org/">Haskell</a>).</p>

  <p>I've also only tested it on my own simple network. I'd appreciate hearing about how it works for you. Feel free to include your iptables output.</p>

  <h2>Latest Source</h2>

  <p>You can checkout a copy of the latest code with:</p>

  <p style="margin-left: 2em"><code><a href="http://www.darcs.net/">darcs</a> get http://jekor.com/gressgraph/</code></p>

  <p id="footer">Copyright 2008, 2009 <a href="mailto:jekor@jekor.com">Chris Forno</a></p>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-73938-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
